!function(t,e){if(!t.fn.dotdotdot){t.fn.dotdotdot=function(e){if(0==this.length)return t.fn.dotdotdot.debug('No element found for "'+this.selector+'".'),this;if(this.length>1)return this.each((function(){t(this).dotdotdot(e)}));var r=this,o=r.contents();r.data("dotdotdot")&&r.trigger("destroy.dot"),r.data("dotdotdot-style",r.attr("style")||""),r.css("word-wrap","break-word"),"nowrap"===r.css("white-space")&&r.css("white-space","normal"),r.bind_events=function(){return r.bind("update.dot",(function(e,n){switch(r.removeClass("is-truncated"),e.preventDefault(),e.stopPropagation(),typeof d.height){case"number":d.maxHeight=d.height;break;case"function":d.maxHeight=d.height.call(r[0]);break;default:d.maxHeight=function(t){for(var e=t.innerHeight(),n=["paddingTop","paddingBottom"],r=0,o=n.length;r<o;r++){var a=parseInt(t.css(n[r]),10);isNaN(a)&&(a=0),e-=a}return e}(r)}d.maxHeight+=d.tolerance,void 0!==n&&(("string"==typeof n||"nodeType"in n&&1===n.nodeType)&&(n=t("<div />").append(n).contents()),n instanceof t&&(o=n)),(h=r.wrapInner('<div class="dotdotdot" />').children()).contents().detach().end().append(o.clone(!0)).find("br").replaceWith("  <br />  ").end().css({height:"auto",width:"auto",border:"none",padding:0,margin:0});var l=!1,c=!1;return s.afterElement&&((l=s.afterElement.clone(!0)).show(),s.afterElement.detach()),i(h,d)&&(c="children"==d.wrap?function(t,e,n){var r=t.children(),o=!1;t.empty();for(var a=0,d=r.length;a<d;a++){var l=r.eq(a);if(t.append(l),n&&t.append(n),i(t,e)){l.remove(),o=!0;break}n&&n.detach()}return o}(h,d,l):a(h,r,h,d,l)),h.replaceWith(h.contents()),h=null,t.isFunction(d.callback)&&d.callback.call(r[0],c,o),s.isTruncated=c,c})).bind("isTruncated.dot",(function(t,e){return t.preventDefault(),t.stopPropagation(),"function"==typeof e&&e.call(r[0],s.isTruncated),s.isTruncated})).bind("originalContent.dot",(function(t,e){return t.preventDefault(),t.stopPropagation(),"function"==typeof e&&e.call(r[0],o),o})).bind("destroy.dot",(function(t){t.preventDefault(),t.stopPropagation(),r.unwatch().unbind_events().contents().detach().end().append(o).attr("style",r.data("dotdotdot-style")||"").removeClass("is-truncated").data("dotdotdot",!1)})),r},r.unbind_events=function(){return r.unbind(".dot"),r},r.watch=function(){if(r.unwatch(),"window"==d.watch){var e=t(window),n=e.width(),o=e.height();e.bind("resize.dot"+s.dotId,(function(){n==e.width()&&o==e.height()&&d.windowResizeFix||(n=e.width(),o=e.height(),u&&clearInterval(u),u=setTimeout((function(){r.trigger("update.dot")}),100))}))}else c=l(r),u=setInterval((function(){if(r.is(":visible")){var t=l(r);c.width==t.width&&c.height==t.height||(r.trigger("update.dot"),c=t)}}),500);return r},r.unwatch=function(){return t(window).unbind("resize.dot"+s.dotId),u&&clearInterval(u),r};var d=t.extend(!0,{},t.fn.dotdotdot.defaults,e),s={},c={},u=null,h=null;return d.lastCharacter.remove instanceof Array||(d.lastCharacter.remove=t.fn.dotdotdot.defaultArrays.lastCharacter.remove),d.lastCharacter.noEllipsis instanceof Array||(d.lastCharacter.noEllipsis=t.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis),s.afterElement=function(e,n){if(!e)return!1;if("string"==typeof e)return!!(e=t(e,n)).length&&e;return!!e.jquery&&e}(d.after,r),s.isTruncated=!1,s.dotId=n++,r.data("dotdotdot",!0).bind_events().trigger("update.dot"),d.watch&&r.watch(),r},t.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",fallbackToLetter:!0,lastCharacter:{},tolerance:0,callback:null,after:null,height:null,watch:!1,windowResizeFix:!0},t.fn.dotdotdot.defaultArrays={lastCharacter:{remove:[" ","　",",",";",".","!","?"],noEllipsis:[]}},t.fn.dotdotdot.debug=function(t){};var n=1,r=t.fn.html;t.fn.html=function(n){return n!=e&&!t.isFunction(n)&&this.data("dotdotdot")?this.trigger("update",[n]):r.apply(this,arguments)};var o=t.fn.text;t.fn.text=function(n){return n!=e&&!t.isFunction(n)&&this.data("dotdotdot")?(n=t("<div />").text(n).html(),this.trigger("update",[n])):o.apply(this,arguments)}}function a(e,n,r,o,l){var u=!1;return e.contents().detach().each((function(){var f=this,p=t(f);if(void 0===f)return!0;if(p.is("script, .dotdotdot-keep"))e.append(p);else{if(u)return!0;e.append(p),!l||p.is(o.after)||p.find(o.after).length||e[e.is("a, table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style")?"after":"append"](l),i(r,o)&&(u=3==f.nodeType?function(e,n,r,o,a){var l=e[0];if(!l)return!1;var u=c(l),f=-1!==u.indexOf(" ")?" ":"　",p="letter"==o.wrap?"":f,g=u.split(p),v=-1,w=-1,b=0,m=g.length-1;o.fallbackToLetter&&0==b&&0==m&&(p="",m=(g=u.split(p)).length-1);for(;b<=m&&(0!=b||0!=m);){var y=Math.floor((b+m)/2);if(y==w)break;w=y,s(l,g.slice(0,w+1).join(p)+o.ellipsis),r.children().each((function(){t(this).toggle().toggle()})),i(r,o)?(m=w,o.fallbackToLetter&&0==b&&0==m&&(p="",v=-1,w=-1,b=0,m=(g=g[0].split(p)).length-1)):(v=w,b=w)}if(-1==v||1==g.length&&0==g[0].length){var x=e.parent();e.detach();var C=a&&a.closest(x).length?a.length:0;if(x.contents().length>C?l=h(x.contents().eq(-1-C),n):(l=h(x,n,!0),C||x.detach()),l&&(s(l,u=d(c(l),o)),C&&a)){var T=a.parent();t(l).parent().append(a),t.trim(T.html())||T.remove()}}else s(l,u=d(g.slice(0,v+1).join(p),o));return!0}(p,n,r,o,l):a(p,n,r,o,l)),u||l&&l.detach()}})),n.addClass("is-truncated"),u}function i(t,e){return t.innerHeight()>e.maxHeight}function d(e,n){for(;t.inArray(e.slice(-1),n.lastCharacter.remove)>-1;)e=e.slice(0,-1);return t.inArray(e.slice(-1),n.lastCharacter.noEllipsis)<0&&(e+=n.ellipsis),e}function l(t){return{width:t.innerWidth(),height:t.innerHeight()}}function s(t,e){t.innerText?t.innerText=e:t.nodeValue?t.nodeValue=e:t.textContent&&(t.textContent=e)}function c(t){return t.innerText?t.innerText:t.nodeValue?t.nodeValue:t.textContent?t.textContent:""}function u(t){do{t=t.previousSibling}while(t&&1!==t.nodeType&&3!==t.nodeType);return t}function h(e,n,r){var o,a=e&&e[0];if(a){if(!r){if(3===a.nodeType)return a;if(t.trim(e.text()))return h(e.contents().last(),n)}for(o=u(a);!o;){if((e=e.parent()).is(n)||!e.length)return!1;o=u(e[0])}if(o)return h(t(o),n)}return!1}}(jQuery),jQuery(document).ready((function(t){t(".dot-ellipsis").each((function(){var e=t(this).hasClass("dot-resize-update"),n=t(this).hasClass("dot-timer-update"),r=0,o=t(this).attr("class").split(/\s+/);t.each(o,(function(t,e){var n=e.match(/^dot-height-(\d+)$/);null!==n&&(r=Number(n[1]))}));var a=new Object;n&&(a.watch=!0),e&&(a.watch="window"),r>0&&(a.height=r),t(this).dotdotdot(a)}))})),jQuery(window).on("load",(function(){jQuery(".dot-ellipsis.dot-load-update").trigger("update.dot")}));